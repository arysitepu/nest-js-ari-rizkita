generator client {
  provider        = "prisma-client-js"
  previewFeatures = ["multiSchema", "postgresqlExtensions"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
  schemas  = ["schema_ari"]
}

model Cities {
  id          String    @id(map: "cities_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  city_code   String    @unique(map: "cities_unique") @db.VarChar(100)
  city_name   String    @db.VarChar(100)
  province_id String    @db.Uuid
  created_at  DateTime  @default(now()) @db.Timestamp(0)
  created_by  String    @db.VarChar(255)
  updated_at  DateTime? @default(now()) @db.Timestamp(0)
  updated_by  String?
  deleted_at  DateTime?
  deleted_by  String?
  Provinces   Provinces @relation(fields: [province_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "cities_provinces_fk")
  Users       Users[]

  @@schema("schema_ari")
}

model Companies {
  id           String      @id(map: "companies_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  company_code String      @db.VarChar(255)
  company_name String      @db.VarChar
  created_at   DateTime    @default(now()) @db.Timestamp(0)
  created_by   String      @db.VarChar(255)
  updated_at   DateTime?   @default(now()) @db.Timestamp(0)
  updated_by   String?
  deleted_at   DateTime?
  deleted_by   String?
  UserRoles    UserRoles[]

  @@schema("schema_ari")
}

model Countries {
  id           String      @id(map: "countries_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  country_code String      @db.VarChar(5)
  country_name String      @db.VarChar(255)
  created_at   DateTime    @default(now()) @db.Timestamp(0)
  created_by   String      @db.VarChar(255)
  updated_at   DateTime?   @default(now()) @db.Timestamp(0)
  updated_by   String?
  deleted_at   DateTime?
  deleted_by   String?
  Provinces    Provinces[]
  Users        Users[]

  @@schema("schema_ari")
}

model Provinces {
  id            String    @id(map: "provinces_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  province_code String    @unique(map: "provinces_unique") @db.VarChar(100)
  province_name String    @db.VarChar(100)
  country_id    String    @db.Uuid
  created_at    DateTime  @default(now()) @db.Timestamp(0)
  created_by    String    @db.VarChar(255)
  updated_at    DateTime? @default(now()) @db.Timestamp(0)
  updated_by    String?
  deleted_at    DateTime?
  deleted_by    String?
  Cities        Cities[]
  Countries     Countries @relation(fields: [country_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "provinces_countries_fk")
  Users         Users[]

  @@schema("schema_ari")
}

model Employees {
  id            String    @id(map: "employees_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  employee_name String?   @db.VarChar(100)
  created_at    DateTime  @default(now()) @db.Timestamp(0)
  created_by    String    @db.VarChar(255)
  updated_at    DateTime? @default(now()) @db.Timestamp(0)
  updated_by    String?
  deleted_at    DateTime?
  deleted_by    String?
  Users         Users[]

  @@schema("schema_ari")
}

model Positions {
  id                   String    @id(map: "groups_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  position_name        String    @db.VarChar(255)
  position_description String?
  created_at           DateTime  @default(now()) @db.Timestamp(0)
  created_by           String    @db.VarChar(255)
  updated_at           DateTime? @default(now()) @db.Timestamp(0)
  updated_by           String?
  deleted_at           DateTime?
  deleted_by           String?

  @@schema("schema_ari")
}

model Roles {
  id         String      @id(map: "roles_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  role_code  String      @unique(map: "roles_unique") @db.VarChar(100)
  role_name  String      @db.VarChar(100)
  created_at DateTime    @default(now()) @db.Timestamp(0)
  created_by String      @db.VarChar(255)
  updated_at DateTime?   @default(now()) @db.Timestamp(0)
  updated_by String?
  deleted_at DateTime?
  deleted_by String?
  UserRoles  UserRoles[]

  @@schema("schema_ari")
}

model UserCompanies {
  id         String    @id(map: "auths_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String    @db.Uuid
  company_id String    @db.Uuid
  created_at DateTime  @default(now()) @db.Timestamp(0)
  created_by String    @db.VarChar(255)
  updated_at DateTime? @default(now()) @db.Timestamp(0)
  updated_by String?
  deleted_at DateTime?
  deleted_by String?

  @@schema("schema_ari")
}

model UserRoles {
  id         String     @id(map: "userroles_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String     @db.Uuid
  role_id    String     @db.Uuid
  company_id String?    @db.Uuid
  created_at DateTime   @default(now()) @db.Timestamp(0)
  created_by String     @db.VarChar(255)
  updated_at DateTime?  @default(now()) @db.Timestamp(0)
  updated_by String?
  deleted_at DateTime?
  deleted_by String?
  Companies  Companies? @relation(fields: [company_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "userroles_companies_fk")
  Roles      Roles      @relation(fields: [role_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "userroles_roles_fk")
  Users      Users      @relation(fields: [user_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "userroles_users_fk")

  @@schema("schema_ari")
}

model Users {
  id               String      @id(map: "userauth_pk") @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  name             String      @db.VarChar(100)
  username         String      @unique(map: "users_unique") @db.VarChar(100)
  password         String
  confirm_password String
  email            String      @db.VarChar(100)
  no_telp          String      @db.VarChar(13)
  alamat_lengkap   String?
  country_id       String      @db.Uuid
  province_id      String      @db.Uuid
  city_id          String      @db.Uuid
  employee_id      String      @db.Uuid
  created_at       DateTime    @default(now()) @db.Timestamp(0)
  created_by       String      @db.VarChar(255)
  updated_at       DateTime?   @default(now()) @db.Timestamp(0)
  updated_by       String?
  deleted_at       DateTime?
  deleted_by       String?
  UserRoles        UserRoles[]
  Cities           Cities      @relation(fields: [city_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_cities_fk")
  Countries        Countries   @relation(fields: [country_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_countries_fk")
  Employees        Employees   @relation(fields: [employee_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_employees_fk")
  Provinces        Provinces   @relation(fields: [province_id], references: [id], onDelete: NoAction, onUpdate: NoAction, map: "users_provinces_fk")

  @@schema("schema_ari")
}

enum optionflag {
  Y
  N

  @@schema("schema_ari")
}
